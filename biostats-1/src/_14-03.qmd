---
title: "Calculation of sums of squares"
format: 
  revealjs:
    slide-number: true
    embed-resources: true
editor: source
---

## Artificial data

```{r}
xbar <- mean(simple$x)
ybar <- mean(simple$y)
sx <- round(sd(simple$x), 1)
sy <- round(sd(simple$y), 1)
print(simple, row.names=FALSE)
```

-   $\bar{X}$

-   X-bar = `r xbar`
-   Y-bar = `r ybar`
-   SD(X) = `r sx`
-   SD(Y) = `r sy`


## Sum of squares regression

```{r}
yhat <- 30-simple$x
draw_line(20, 0, pts=yhat)
```

## Sum of squares error

```{r}
draw_line(30, -1)

```

## Sum of squares total / corrected total

```{r}
draw_line(20, 0)
```

## Sum of squares total (uncorrected)

```{r}
draw_line(0, 0, pts=simple$y)
```

## ANOVA table for linear regression

```{=tex}
\begin{matrix}
            &  SS &  df &                  MS &           F-ratio \\
 Regression & SSR &   1 &   MSR=\frac{SSR}{1} & F=\frac{MSR}{MSE} \\
 Error      & SSE & n-2 & MSE=\frac{SSE}{n-2} &                   \\
 Total      & SST & n-1 &                     &
\end{matrix}
```
## Review: ANOVA table for oneway ANOVA

```{=tex}
\begin{matrix}
         &  SS &  df &                    MS &           F-ratio \\
 Between & SSB & k-1 &   MSB=\frac{SSB}{k-1} & F=\frac{MSB}{MSW} \\
 Within  & SSW & n-k & MSW=\frac{SSW}{n-k-1} &                   \\
 Total   & SST & n-1 &                       &
\end{matrix}
```

## R-squared

-   SST, total variation, is split into
    -    SSR, explained variation, and
    -    SSE, unexplained variation
-   $R^2=\frac{SSR}{SST}=1-\frac{SSE}{SST}$
    -    $0 < R^2 < 1$
    -    Proportion of explained variation

## SPSS linear regression

![](../images/simple-regression-02.png)

-   Row 1: SSR, df, MSR, F-ratio, p-value
-   Row 2: SSE, df, MSE
-   Row 3: SST, df

## SPSS General Linear Model

![](../images/simple-regression-01.png)

-   Row 1: SSR, df, MSR, F-ratio, p-value
-   Row 3: same as Row 1
-   Row 4: SSE, df, MSE
-   Row 6: SST, df

::: notes
Ignore Row 2 completely. 

Row 3 is the same as Row 1 when you have a single independent variable. With multiple independent variables, SPSS will divide the variation in row 1 across multiple rows, one for each independent variable.

Row 5 is often referred to as the uncorrected total. SPSS does it differently and refers to the uncorrected total as just plain "total" and then uses "Corrected total" where most researchers would use just plain "total".

You may prefer the previous output as being less confusing and that's fine. The big advantage of the general linear model lies in its ability to model a variety of different analyses.
:::